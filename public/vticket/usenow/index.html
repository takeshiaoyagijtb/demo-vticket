
<!DOCTYPE html>
<html lang="ja">
<head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJN5ZX4');</script>
<!-- End Google Tag Manager -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, shrink-to-fit=yes" />
<title>デモサイト | 大阪わくわくプラン2018</title>
<link rel="stylesheet" href="/vticket/webjars/bootstrap/3.3.7-1/css/bootstrap.min.css" />
<link rel="stylesheet" href="/vticket/webjars/font-awesome/4.7.0/css/font-awesome.min.css" />
<link rel="stylesheet" type="text/css" href="/vticket/css/front/layout.css?rev=12" media="all" />
<link rel="stylesheet" type="text/css" href="/vticket/css/front/color.css?rev=12" media="all" />
<link rel="stylesheet" type="text/css" href="/vticket/css/front/pc.css?rev=12" media="only screen and (min-width:768px)" />
<link rel="stylesheet" type="text/css" href="/vticket/css/front/sp.css?rev=12" media="only screen and (max-width:767px)" />
<link rel='stylesheet' type="text/css" href="/vticket/css/front/try_it_now.css" media="all" />
<script src="/vticket/webjars/jquery/3.2.1/jquery.min.js"></script>
<script src="/vticket/webjars/bootstrap/3.3.7-1/js/bootstrap.min.js"></script>
<link rel="shortcut icon" href="//vticket-mwg.firebaseapp.com/vticket/images/favicon.ico" />
</head>

<body>

<div id="container" >
<div id="header" class="">
<style type="text/css">@import url(/vticket/info/osaka/css/osaka.css?v=1.3)</style>
<script>
$(function () { var comDimensionValue=$('p#user_info>span.number').length==1?$('p#user_info>span.number')[0].innerText.substring(0,6):'000000';gtag('event', '契約組織コード', {'dimension1': comDimensionValue});});
</script>
			<a href="/vticket/itemlist/" class="site-title hidden-xs">
<img src="//vticket-mwg.firebaseapp.com/vticket/images/logo/osaka2018_logo.png" alt="logo">
			</a>
<nav class="navbar navbar-inverse">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbarEexample7">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
<a href="/vticket/itemlist" class="site-title visible-xs-inline">大阪わくわくプラン2018</a>
		</div>
		
		<div class="collapse navbar-collapse" id="navbarEexample7">
			<ul class="nav navbar-nav">
				<li><a href="/vticket/itemlist"><span class="glyphicon glyphicon-home" aria-hidden="true"></span>&nbsp;トップへ</a></li>
				<li><a href="/vticket/history"><span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>&nbsp;交換履歴</a></li>
			</ul>
<p id="user_info" class="navbar-text navbar-right"><span class="name pop popleft">カタログ　タロウ</span><span class="number">12345678901234</span><span class="charge pop popright">4</span><span class="expiration">2019/05/31</span></p>
            		</div>
	</div>
</nav>
</div>
  

    <div id="main-contents">

    
    

    
 	<div id="scan_msg_1">
 		<strong>QRコードのパネルをスキャンしてください。</strong>
 	</div>
	<div id="scan_msg_2" style="margin-top: 10px;">
		<form id="qrForm" action="/vticket/usenow/checked.html" method="POST">
		<div id="scan_msg_3">
			<input type="text" class="qrcode-text" id="cd" name="cd" placeholder="コード入力" autocomplete="off"><label class="qrcode-text-btn">
				<input type=file
					 accept="image/*"
					 capture=environment
					 onclick="return showQRIntro();"
					 onchange="openQRCamera(this);"
					 tabindex=-1>
			</label>
		</div>
		<div  id="scan_msg_4" style="margin-top: 10px; margin-bottom: 10px;">
			<span>スキャン出来ると次の画面へ進みます。<br>
			手入力の場合は「次へ」ボタンをタップしてください。</span>
		</div>
		<div id="scan_msg_5">
<style>
#scan_msg_5 .right-figure{
	float:right;
	margin-left: 1em;
}

#scan_msg_5 li{
    display: list-item;
    margin-left: 1.5em;
    margin-top: 0.5ex;
    margin-bottom: 0.8ex;
}
</style>
<img src="" width="200px" height="170px" class="right-figure">
<strong>QRコードとは</strong><p>右のようなパネルの右上にあるような白黒の模様のことを言います。</p>
<strong>読み取りの方法</strong><ol><li>上にある<img src="/vticket/images/qr_icon.svg" style="width:1.3em;height:1.3em;background-color:gray">部分をタップしてカメラを起動します。</li>
<li>QRコードが画面の中央に大きくくっきり映るように写真を撮ってください。</li>
<li>✔をタップします（スマホの機種によりマークが違います）</li></ol>
読み取りに失敗する場合は、QRコードの下に書いてある5桁のコードを入力して「次へ」をタップしてください。
			
		</div>
		<div id="scan_msg_6" class="text-right" style="margin-top: 10px; margin-bottom: 20px;">
			<button type="submit" class="btn btn-primary" id="btn_next">&nbsp;次へ&nbsp;</button>
		</div>
		</form>
	</div>

    </div>

    
    <div id="footer">
    <div id="href_top" onclick="$('html, body').animate({scrollTop:0}, 400, 'swing');">ページトップに戻る</div>
    <span class="p_poly"> <a href="http://privacymark.jp/" target="_blank">
        <img alt="プライバシーマーク" height="80" src="//www.jtb-benefit.co.jp/images/icn_privacy75.gif" width="75">
      </a>
    </span> <span class="copyright">Copyright &copy; JTB Benefit Service, inc.</span>
  </div>
  </div>
  

<script type="text/javascript">
//2値化しない通常のQRコード読み取り
function openQRCamera(node) {
	var reader = new FileReader();

	// アップロードされたファイルの読み込み完了後に呼ばれる
	reader.onload = function() {
		node.value = "";

		// qrcode.decode後に呼ばれるコールバック
		qrcode.callback = function(res) {
			if(res instanceof Error) {
				alert("QRコードの読み取りに失敗しました。\nカメラの中央にQRコードを表示し、再度撮影してください。");
			} else {
				console.log('res: ' + res);
				node.parentNode.previousElementSibling.value = res;
				// resが空でなければFormをsubmitする
				if(res != null && res != '') {
					$('#qrForm').submit();
				}
			}
		};

		// 読み込んだファイルをQRコードリーダーへ渡す
		qrcode.decode(reader.result);
	};

	// アップロードされたファイルの読み込み
	reader.readAsDataURL(node.files[0]);
}

// カメラ起動時にメッセージを表示する
function showQRIntro() {
  return confirm("カメラを使用してQRコードを撮影します。");
}

// 次へボタンクリック時
$(function() {
	$('#btn_next').click(function(e) {
		if($('#cd').val() == '') {
			alert('店頭メニューコードが未入力です。');
			e.preventDefault();
			return false;
		}
	});
});
</script>

</body>
</html>
